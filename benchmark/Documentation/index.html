<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="codeeditorland, land, playform"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@biomejs/benchmark - v0.0.1</title><meta name="description" content="Documentation for @biomejs/benchmark"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@biomejs/benchmark - v0.0.1</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@biomejs/benchmark - v0.0.1</h2></div><div class="tsd-panel tsd-typography"><a id="md:benchmarks" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Benchmarks<a href="#md:benchmarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="md:running-in-docker" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Running in Docker<a href="#md:running-in-docker" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Run in the root directory, not <code>./benchmark</code></p>
<ol>
<li><code>docker build --rm -f Dockerfile.benchmark . --progress plain</code></li>
</ol>
<a id="md:running-locally" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Running locally<a href="#md:running-locally" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Install hyperfine: <code>cargo install hyperfine</code></li>
<li>Install node modules: <code>npm i</code></li>
<li>Run the benchmarks: <code>node run.js</code></li>
</ol>
<a id="md:results" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Results<a href="#md:results" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Setup: MacBook Pro (13-inch, M1, 2020)</p>
<a id="md:formatting" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Formatting<a href="#md:formatting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Biome's ~25 times faster than Prettier</li>
<li>Biome's ~20 times faster than parallel-prettier</li>
<li>Biome's ~20 times faster than <code>xargs -P</code>[^1]</li>
<li>Biome's 1.5-2 times faster than <code>dprint</code></li>
<li>Biome single-threaded is ~7 times faster than Prettier.</li>
</ul>
<p>[^1]: Run <code>time find lib/ examples declarations benchmark -name '*.js' -print0 | xargs -P8 -0 -n 200 npx prettier --write --loglevel=error</code> in the <code>target/webpack</code> directory. I manually tinkered with the <code>-n</code> parameter to get the fastest run.</p>
<a id="md:linting" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Linting<a href="#md:linting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Biome's ~15x times faster than ESLint</li>
<li>Biome single-threaded is ~4 times faster than ESLint.</li>
</ul>
<p>The speed-ups for the multithreaded benchmarks can vary significantly depending on the setup. For example, Biome is 100 times faster than Prettier on an M1 Max with 10 cores.</p>
<a id="md:analysis" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Analysis<a href="#md:analysis" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:formatter" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Formatter<a href="#md:formatter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Biome's formatter is fast :).</li>
<li>It should be possible to speed up Prettier. Biome's architecture isn't that different, and native has its advantages, but Prettier should be able to compete in single-threaded mode.</li>
</ul>
<a id="md:linting-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Linting<a href="#md:linting-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Biome's linter is fast but there is room for improvements</li>
<li>Biome's linter spends significant time building the semantic model, the control flow graph, and matching queries. I'm convinced there's room for improvement (<a href="https://github.com/rome/tools/pull/3565">3565</a>, <a href="https://github.com/rome/tools/pull/3569">3569</a>).</li>
<li>Computing the diff for code fixes is expensive. Biome can spend up to 3s computing diffs (not measured by these benchmarks, see explanations below)</li>
</ul>
<a id="md:notes" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Notes<a href="#md:notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We've been careful to create fair benchmarks. This section explains some of the decisions behind the benchmark setup and how these decisions affect the results. Please <a href="https://github.com/rome/tools/issues">let us know</a> if you have ideas on how to make the benchmarks fairer or if there's a mistake with our setup.</p>
<a id="md:formatting-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Formatting<a href="#md:formatting-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Compares the wall time of Biome, Prettier, and dprint to format all files in a project where all files are correctly formatted.</li>
<li>dprint and Prettier support incremental formatting to only format changed files, whereas Biome does not. This benchmark does not measure incremental formatting as it measures cold formatting time. You may see significant speedups on subsequent formatting runs when enabling incremental formatting.</li>
<li>The benchmark limits Prettier to only format JavaScript and TypeScript files because Biome doesn't support other file types.</li>
<li>Biome only prints a summary with the number of formatted files. The prettier benchmark uses <code>--loglevel=error</code> for a fairer benchmark so that Prettier doesn't print every filename.</li>
</ul>
<a id="md:linting-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Linting<a href="#md:linting-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Compares the wall time of Biome and ESLint to check all files in a project.</li>
<li>Only enables rules that both Biome and ESLint support.</li>
<li>Biome prints rich diffs for each lint diagnostic, whereas ESLint only shows the name and description of the lint rule. That's why the benchmark uses <code>--max-diagnostics=0</code> when running Biome because Biome then only counts diagnostics without generating the diffs. Overall, this results in a more accurate comparison but has the downside that Biome only prints the diagnostic count, whereas ESLint prints a line for each lint error.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:benchmarks"><span>Benchmarks</span></a><ul><li><a href="#md:running-in-docker"><span>Running in <wbr/>Docker</span></a></li><li><a href="#md:running-locally"><span>Running locally</span></a></li><li><a href="#md:results"><span>Results</span></a></li><li><ul><li><a href="#md:formatting"><span>Formatting</span></a></li><li><a href="#md:linting"><span>Linting</span></a></li></ul></li><li><a href="#md:analysis"><span>Analysis</span></a></li><li><ul><li><a href="#md:formatter"><span>Formatter</span></a></li><li><a href="#md:linting-1"><span>Linting</span></a></li></ul></li><li><a href="#md:notes"><span>Notes</span></a></li><li><ul><li><a href="#md:formatting-1"><span>Formatting</span></a></li><li><a href="#md:linting-2"><span>Linting</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@biomejs/benchmark - v0.0.1</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
